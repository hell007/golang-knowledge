"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function getBarDimAxis(e){var t=e.innerRows,i=e.dimAxisName,a=e.dimension,n=e.axisVisible;return a.map(function(e){return{type:"category",name:i,nameLocation:"middle",nameGap:22,data:t.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:n}})}function getBarMeaAxis(e){for(var t=e.meaAxisName,i=e.meaAxisType,a=e.axisVisible,n=e.digit,r=e.scale,s=e.min,o=e.max,l={type:"value",axisTick:{show:!1},show:a},c=[],d=0;d<2;d++)!function(e){i[e]?c[e]=_extends({},l,{axisLabel:{formatter:function(t){return getFormated(t,i[e],n)}}}):c[e]=_extends({},l),c[e].name=t[e]||"",c[e].scale=r[e]||!1,c[e].min=s[e]||null,c[e].max=o[e]||null}(d);return c}function getBarTooltip(e){var t=e.axisSite,i=e.isHistogram,a=e.meaAxisType,n=e.digit,r=e.labelMap,s=i?t.right:t.top;return r&&(s=s.map(function(e){return void 0===r[e]?e:r[e]})),{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach(function(e){var i=e.seriesName,r=~s.indexOf(i)?a[1]:a[0];t.push(itemPoint(e.color)),t.push(i+": "),t.push(getFormated(e.value,r,n)),t.push("<br>")}),t.join("")}}}function getBarSeries(e){var t=e.innerRows,i=e.metrics,a=e.stack,n=e.axisSite,r=e.isHistogram,s=e.labelMap,o=e.itemStyle,l=e.label,c=e.showLine,d=void 0===c?[]:c,u=[],m={},h=r?n.right:n.top,f=r?"yAxisIndex":"xAxisIndex",p=a&&getStackMap(a);return i.forEach(function(e){m[e]=[]}),t.forEach(function(e){i.forEach(function(t){m[t].push(e[t])})}),!!(u=Object.keys(m).map(function(e){var t=defineProperty({name:s&&s[e]||e,type:~d.indexOf(e)?"line":"bar",data:m[e]},f,~h.indexOf(e)?"1":"0");return a&&p[e]&&(t.stack=p[e]),l&&(t.label=l),o&&(t.itemStyle=o),t})).length&&u}function getLegend(e){var t=e.metrics,i=e.labelMap,a=e.legendName;return a||i?{data:i?t.map(function(e){return null==i[e]?e:i[e]}):t,formatter:function(e){return a&&a[e]||e}}:{data:t}}function getLineXAxis(e){var t=e.dimension,i=e.rows,a=e.xAxisName,n=e.axisVisible;return t.map(function(e,t){return{type:"category",nameLocation:"middle",nameGap:22,boundaryGap:!1,name:a[t]||"",axisTick:{show:!0,lineStyle:{color:"#eee"}},data:i.map(function(t){return t[e]}),axisLabel:{formatter:function(e){return String(e)}},show:n}})}function getLineSeries(e){var t=e.rows,i=e.axisSite,a=e.metrics,n=e.area,r=e.stack,s=e.nullAddZero,o=e.labelMap,l=e.label,c=e.itemStyle,d=e.lineStyle,u=e.areaStyle,m=[],h={},f=r&&getStackMap(r);return a.forEach(function(e){h[e]=[]}),t.forEach(function(e){a.forEach(function(t){var i=null;null!=e[t]?i=e[t]:s&&(i=0),h[t].push(i)})}),a.forEach(function(e){var t={name:o&&o[e]||e,type:"line",data:h[e]};n&&(t.areaStyle={normal:{}}),t.yAxisIndex=~i.right.indexOf(e)?1:0,r&&f[e]&&(t.stack=f[e]),l&&(t.label=l),c&&(t.itemStyle=c),d&&(t.lineStyle=d),u&&(t.areaStyle=u),m.push(t)}),!!m.length&&m}function getLineYAxis(e){for(var t=e.yAxisName,i=e.yAxisType,a=e.axisVisible,n=e.scale,r=e.min,s=e.max,o=e.digit,l={type:"value",axisTick:{show:!1},show:a},c=[],d=0;d<2;d++)!function(e){i[e]?c[e]=_extends({},l,{axisLabel:{formatter:function(t){return getFormated(t,i[e],o)}}}):c[e]=_extends({},l),c[e].name=t[e]||"",c[e].scale=n[e]||!1,c[e].min=r[e]||null,c[e].max=s[e]||null}(d);return c}function getLineTooltip(e){var t=e.axisSite,i=e.yAxisType,a=e.digit,n=e.labelMap,r=n?t.right.map(function(e){return void 0===n[e]?e:n[e]}):t.right;return{trigger:"axis",formatter:function(e){var t=[];return t.push(e[0].name+"<br>"),e.forEach(function(e){var n=null,s=~r.indexOf(e.seriesName)?i[1]:i[0];n=getFormated(e.data,s,a),t.push(itemPoint(e.color)),t.push(e.seriesName+": "+n),t.push("<br>")}),t.join("")}}}function getLegend$1(e){var t=e.metrics,i=e.legendName,a=e.labelMap;return i||a?{data:a?t.map(function(e){return null==a[e]?e:a[e]}):t,formatter:function(e){return i&&i[e]||e}}:{data:t}}function getPieSeries(e){var t=e.innerRows,i=e.dataType,a=e.percentShow,n=e.dimension,r=e.metrics,s=e.radius,o=e.offsetY,l=e.selectedMode,c=e.hoverAnimation,d=e.digit,u=e.roseType,m=e.label,h=e.level,f=e.limitShowNum,p=e.isRing,g=[],v={},b=[];h?(h.forEach(function(e,t){e.forEach(function(e){v[e]=t})}),t.forEach(function(e){var t=v[e[n]];void 0!==t&&(b[t]?b[t].push(e):b[t]=[e])})):b.push(t);var y={type:"pie",selectedMode:l,hoverAnimation:c,roseType:u,center:["50%",o]},x=b.length;if(b.forEach(function(e,t){var o=_extends({data:[]},y),l=s/x;if(t){var c=l+s/(2*x)*(2*t-1),u=c+s/(2*x);o.radius=[c,u]}else o.radius=p?s:l;x>1&&0===t&&(o.label={normal:{position:"inner"}}),m&&(o.label=m),a&&(o.label={normal:{show:!0,position:x>1&&0===t?"inner":"outside",formatter:function(e){var t=[];return t.push(e.name+":"),t.push(getFormated(e.value,i,d)),t.push("("+e.percent+"%)"),t.join(" ")}}}),o.data=e.map(function(e){return{name:e[n],value:e[r]}}),g.push(o)}),f&&f<g[0].data.length){var S=g[0].data,V=0;S.slice(f,S.length).forEach(function(e){V+=e.value}),g[0].data=S.slice(0,f),g[0].data.push({name:"其他",value:V})}return g}function getPieLegend(e){var t=e.innerRows,i=e.dimension,a=e.legendLimit,n=e.level,r=e.limitShowNum,s=[],o=[];if(n)n.forEach(function(e){e.forEach(function(e){o.push(e)})}),s=o;else if(r&&r<t.length){for(var l=0;l<r;l++)s.push(t[l][i]);s.push("其他")}else s=t.map(function(e){return e[i]});return!!s.length&&{data:s,show:s.length<a}}function getPieTooltip(e){var t=e.dataType,i=e.innerRows,a=e.limitShowNum,n=e.digit,r=e.metrics,s=e.dimension,o=0,l=i.map(function(e){return o+=e[r],{name:e[s],value:e[r]}}).slice(a,i.length);return{formatter:function(e){var i=[];return i.push(itemPoint(e.color)),a&&"其他"===e.name?(i.push("其他:"),l.forEach(function(e){var a=e.name,r=e.value,s=getFormated(r/o,"percent");i.push("<br>"+a+":"),i.push(getFormated(r,t,n)),i.push("("+s+")")})):(i.push(e.name+":"),i.push(getFormated(e.value,t,n)),i.push("("+e.percent+"%)")),i.join(" ")}}}function getWaterfallTooltip(e,t){return{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(i){var a=i[1];return[a.name+"<br/>"+a.seriesName+" :",""+getFormated(a.value,e,t)].join("")}}}function getWaterfallXAxis(e){var t=e.dimension,i=e.rows,a=e.remainStatus,n=e.totalName,r=e.remainName,s=e.xAxisName,o=e.axisVisible,l=[n].concat(i.map(function(e){return e[t]}));return"have-remain"===a&&(l=l.concat([r])),{type:"category",name:s,splitLine:{show:!1},data:l,show:o}}function getWaterfallYAxis(e){var t=e.dataType,i=e.yAxisName,a=e.axisVisible,n=e.digit;return{type:"value",name:i,axisTick:{show:!1},axisLabel:{formatter:function(e){return getFormated(e,t,n)}},show:a}}function getWaterfallSeries(e){var t=e.dataType,i=e.rows,a=e.metrics,n=e.totalNum,r=e.remainStatus,s=e.dataSum,o=e.digit,l={type:"bar",stack:"总量"},c=s,d=n,u=void 0,m=void 0,h=i.map(function(e){return e[a]});"have-remain"===r?(u=[0].concat(i.map(function(e){return d-=e[a]})).concat([0]),m=[n].concat(h).concat([n-s])):(u=[0].concat(i.map(function(e){return c-=e[a]})),m=[s].concat(h));var f=[];return f.push(_extends({name:"辅助",itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},data:u},l)),f.push(_extends({name:"数值",label:{normal:{show:!0,position:"top",formatter:function(e){return getFormated(e.value,t,o)}}},data:m},l)),f}function getWaterfallRemainStatus(e,t){return t?t>e?"have-remain":"none-remain":"not-total"}function getFunnelTooltip(e,t){return{trigger:"item",formatter:function(i){var a=[];return a.push(itemPoint(i.color)),a.push(i.name+": "+getFormated(i.data.realValue,e,t)),a.join("")}}}function getFunnelSeries(e){var t=e.dimension,i=e.metrics,a=e.rows,n=e.sequence,r=e.ascending,s={type:"funnel"};a.sort(function(e,i){return n.indexOf(e[t])-n.indexOf(i[t])});var o=!1;a.some(function(e,t){if(t&&e[i]>a[t-1][i])return o=!0,!0});var l=100/a.length;return s.data=o?a.slice().reverse().map(function(e,a){return{name:e[t],value:(a+1)*l,realValue:e[i]}}):a.map(function(e){return{name:e[t],value:e[i],realValue:e[i]}}),r&&(s.sort="ascending"),s}function getRadarLegend(e,t){return{data:e.map(function(e){return e[t]})}}function getRadarTooltip(e,t,i){var a=[],n=[];return t.indicator.map(function(t,i){a[i]=e[t.name],n[i]=t.name}),{formatter:function(e){var t=[];return t.push(itemPoint(e.color)),t.push(e.seriesName+"<br />"),e.data.value.forEach(function(e,r){t.push(n[r]+": "),t.push(getFormated(e,a[r],i)+"<br />")}),t.join("")}}}function getRadarSetting(e,t){var i={indicator:[],shape:"circle",splitNumber:5},a={};return e.forEach(function(e){t.forEach(function(t){a[t]?a[t].push(e[t]):a[t]=[e[t]]})}),i.indicator=Object.keys(a).map(function(e){return{name:e,max:Math.max.apply(null,a[e])}}),i}function getRadarSeries(e){var t=e.rows,i=e.dimension,a=e.metrics,n={};e.radar.indicator.forEach(function(e,t){n[e.name]=t});var r=t.map(function(e){var t={value:[],name:e[i]};return Object.keys(e).forEach(function(i){~a.indexOf(i)&&(t.value[n[i]]=e[i])}),t});return[{name:i,type:"radar",data:r}]}function getTooltip(e,t,i,a,n){return{formatter:function(r){var s=[];return s.push(r.name+"<br>"),a.forEach(function(a,o){s.push(itemPoint(n[o])+" "+a+" : "),i[r.name]?s.push(getFormated(i[r.name][a],e[a],t)):s.push("-"),s.push("<br>")}),s.join(" ")}}}function getSeries(e){var t=e.position,i=e.selectData,a=e.dimension,n=e.metrics,r=e.rows,s=e.label,o=e.itemStyle,l=e.selectedMode,c=e.roam,d=e.center,u=e.aspectScale,m=e.boundingCoords,h=e.zoom,f=e.scaleLimit,p=e.mapGrid,g=[],v={type:"map",mapType:t};return n.forEach(function(e){var t=_extends({name:e,data:[],selectedMode:l,roam:c,center:d,aspectScale:u,boundingCoords:m,zoom:h,scaleLimit:f},v);p&&Object.keys(p).forEach(function(e){t[e]=p[e]}),setGeoLabel(o,t,"itemStyle"),setGeoLabel(s,t,"label"),r.forEach(function(n){t.data.push({name:n[a],value:n[e],selected:i})}),g.push(t)}),g}function setGeoLabel(e,t,i){"object"===(void 0===e?"undefined":_typeof(e))?t[i]=e:e&&(t[i]={normal:{show:!0},emphasis:{show:!0}})}function install(e,t){components.forEach(function(t){e.component(t.name,t)})}var echarts=_interopDefault(require("echarts/lib/echarts"));require("echarts/lib/component/tooltip"),require("echarts/lib/component/legend"),require("echarts/lib/chart/bar"),require("echarts/lib/chart/line"),require("echarts/lib/chart/pie"),require("echarts/lib/chart/funnel"),require("echarts/lib/chart/radar"),require("echarts/lib/chart/map"),require("echarts/extension/bmap/bmap"),echarts.registerTheme("ve-chart",{categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},valueAxis:{axisLine:{show:!1}},line:{smooth:!0},grid:{containLabel:!0,left:10,right:10}});var itemPoint=function(e){return['<span style="',"background-color:"+e+";","display: inline-block;","width: 10px;","height: 10px;","border-radius: 50%;","margin-right:2px;",'"></span>'].join("")},color=["#19d4ae","#5ab1ef","#fa6e86","#ffb980","#0067a6","#c4b4e4","#d87a80","#9cbbff","#d9d0c7","#87a997","#d49ea2","#5b4947","#7ba3a8"],numberFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(+e))return e;for(var i=[{value:1e18,symbol:"E"},{value:1e15,symbol:"P"},{value:1e12,symbol:"T"},{value:1e9,symbol:"B"},{value:1e6,symbol:"M"},{value:1e3,symbol:"k"}],a=0;a<i.length;a++)if(Math.abs(e)>=i[a].value)return(e/i[a].value).toFixed(t)+i[a].symbol;return e.toString()},formatTausends=function(e){return String(e).replace(/^(\s+|-)?\d+(?=.?\d*($|\s))/g,function(e){return e.replace(/(?=(?!\b)(\d{3})+$)/g,",")})},getFormated=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";if(null==e||isNaN(e))return a;switch(t){case"KMB":return numberFormat(e);case"percent":return parseFloat((100*e).toFixed(i))+"%";case"normal":return formatTausends(e);default:return e}},getStackMap=function(e){var t={};return Object.keys(e).forEach(function(i){e[i].forEach(function(e){t[e]=i})}),t},$get=function(e){return new Promise(function(t,i){var a=new XMLHttpRequest;a.open("GET",e),a.send(null),a.onload=function(){t(JSON.parse(a.responseText))},a.onerror=function(){i(JSON.parse(a.responseText))}})},MAP_URL_PREFIX="https://unpkg.com/echarts@3.6.2/map/json/",getMapJSON=function(e){return $get(""+MAP_URL_PREFIX+e+".json")},mapPromise=null,getBmap=function(e){return mapPromise||(mapPromise=new Promise(function(t,i){var a="bmap"+Date.now();window[a]=t;var n=document.createElement("script");n.src=["https://api.map.baidu.com/api?v=2.0","ak="+e,"callback="+a].join("&"),document.body.appendChild(n)})),mapPromise},clone=function(e){return JSON.parse(JSON.stringify(e))},getType=function(e){return Object.prototype.toString.call(e)},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},bar=function(e,t,i,a){var n=clone(t),r=i.axisSite,s=void 0===r?{top:[]}:r,o=i.dimension,l=void 0===o?[e[0]]:o,c=i.stack,d=void 0===c?{}:c,u=i.axisVisible,m=void 0===u||u,h=i.digit,f=void 0===h?2:h,p=i.dataOrder,g=void 0!==p&&p,v=i.scale,b=void 0===v?[!1,!1]:v,y=i.min,x=void 0===y?[null,null]:y,S=i.max,V=void 0===S?[null,null]:S,w=i.legendName,O=i.labelMap,A=i.label,L=i.itemStyle,N=i.showLine,T=a.tooltipVisible,j=a.legendVisible,R=e.slice();i.metrics?R=i.metrics:R.splice(e.indexOf(l[0]),1);var E=i.xAxisType||["normal","normal"],k=i.xAxisName||[],M=i.yAxisName||"";if(g){var F=g.label,P=g.order;F&&P?n.sort(function(e,t){return"desc"===P?e[F]-t[F]:t[F]-e[F]}):console.warn("Need to provide name and order parameters")}var C=j&&getLegend({metrics:R,labelMap:O,legendName:w}),_=getBarDimAxis({innerRows:n,dimAxisName:M,dimension:l,axisVisible:m}),H=getBarMeaAxis({meaAxisName:k,meaAxisType:E,axisVisible:m,digit:f,scale:b,min:x,max:V}),B={axisSite:s,isHistogram:!1,meaAxisType:E,digit:f,labelMap:O};return{legend:C,yAxis:_,series:getBarSeries({innerRows:n,metrics:R,stack:d,axisSite:s,isHistogram:!1,labelMap:O,itemStyle:L,label:A,showLine:N}),xAxis:H,tooltip:T&&getBarTooltip(B)}},histogram=function(e,t,i,a){var n=clone(t),r=i.axisSite,s=void 0===r?{right:[]}:r,o=i.dimension,l=void 0===o?[e[0]]:o,c=i.stack,d=void 0===c?{}:c,u=i.axisVisible,m=void 0===u||u,h=i.digit,f=void 0===h?2:h,p=i.dataOrder,g=void 0!==p&&p,v=i.scale,b=void 0===v?[!1,!1]:v,y=i.min,x=void 0===y?[null,null]:y,S=i.max,V=void 0===S?[null,null]:S,w=i.labelMap,O=i.legendName,A=i.label,L=i.itemStyle,N=i.showLine;if(g){var T=g.label,j=g.order;T&&j?n.sort(function(e,t){return"desc"===j?e[T]-t[T]:t[T]-e[T]}):console.warn("Need to provide name and order parameters")}var R=a.tooltipVisible,E=a.legendVisible,k=e.slice();i.metrics?k=i.metrics:k.splice(e.indexOf(l[0]),1);var M=i.yAxisType||["normal","normal"],F=i.yAxisName||[],P=i.xAxisName||"",C=E&&getLegend({metrics:k,labelMap:w,legendName:O}),_=getBarDimAxis({innerRows:n,dimAxisName:P,dimension:l,axisVisible:m}),H={axisSite:s,isHistogram:!0,meaAxisType:M,digit:f,labelMap:w};return{legend:C,yAxis:getBarMeaAxis({meaAxisName:F,meaAxisType:M,axisVisible:m,digit:f,scale:b,min:x,max:V}),series:getBarSeries({innerRows:n,metrics:k,stack:d,axisSite:s,isHistogram:!0,labelMap:w,itemStyle:L,label:A,showLine:N}),xAxis:_,tooltip:R&&getBarTooltip(H)}},Core={props:{data:{type:[Object,Array],default:function(){return{}}},settings:{type:Object,default:function(){return{}}},width:{type:String,default:"auto"},height:{type:String,default:"400px"},beforeConfig:{type:Function},afterConfig:{type:Function},afterSetOption:{type:Function},afterSetOptionOnce:{type:Function},events:{type:Object},grid:{type:Object},colors:{type:Array},tooltipVisible:{type:Boolean,default:!0},legendVisible:{type:Boolean,default:!0},legendPosition:{type:String},markLine:{type:Object},markArea:{type:Object},markPoint:{type:Object},visualMap:{type:[Object,Array]},dataZoom:{type:[Object,Array]},toolbox:{type:Object},initOptions:{type:Object,default:function(){return{}}},title:Object,legend:Object,xAxis:Object,yAxis:Object,radar:Object,tooltip:Object,axisPointer:Object,brush:Object,geo:Object,timeline:Object,graphic:Object,series:[Object,Array],backgroundColor:[Object,String],textStyle:Object,animation:Object,theme:Object,themeName:String},watch:{data:{deep:!0,handler:function(e){e&&this.dataHandler(e)}},settings:{deep:!0,handler:function(e){e.type&&this.chartLib&&(this.chartHandler=this.chartLib[e.type]),this.dataHandler(this.data)}}},computed:{canvasStyle:function(){return{width:this.width,height:this.height,position:"relative"}},chartColor:function(){return this.colors||this.theme&&this.theme.color||color}},methods:{dataHandler:function(e){if(this.chartHandler){var t=e,i=t.columns,a=void 0===i?[]:i,n=t.rows,r=void 0===n?[]:n,s={tooltipVisible:this.tooltipVisible,legendVisible:this.legendVisible,echarts:this.echarts,color:this.chartColor};this.beforeConfig&&(e=this.beforeConfig(e));var o=this.chartHandler(a,r,this.settings,s);o&&("function"==typeof o.then?o.then(this.optionsHandler):this.optionsHandler(o))}},optionsHandler:function(e){var t=this;if(this.legendPosition&&e.legend&&(e.legend[this.legendPosition]=10,~["left","right"].indexOf(this.legendPosition)&&(e.legend.top="middle",e.legend.orient="vertical")),this.themeName||(e.color=this.chartColor),["grid","dataZoom","visualMap","toolbox","title","legend","xAxis","yAxis","radar","tooltip","axisPointer","brush","geo","timeline","graphic","series","backgroundColor","textStyle"].forEach(function(i){t[i]&&(e[i]=t[i])}),this.animation&&Object.keys(this.animation).forEach(function(i){e[i]=t.animation[i]}),this.markArea||this.markLine||this.markPoint){var i={markArea:this.markArea,markLine:this.markLine,markPoint:this.markPoint},a=e.series;"[object Array]"===getType(a)?a.forEach(function(e){t.addMark(e,i)}):"[object Object]"===getType(a)&&this.addMark(a,i)}this.afterConfig&&(e=this.afterConfig(e)),this.echarts.setOption(e,!0),this.afterSetOption&&this.afterSetOption(this.echarts),this.afterSetOptionOnce&&!this._once.afterSetOptionOnce&&(this._once.afterSetOptionOnce=this.afterSetOptionOnce(this.echarts))},addMark:function(e,t){Object.keys(t).forEach(function(i){t[i]&&(e[i]=t[i])})},init:function(){if(!this.echarts){var e=this.themeName||(this.theme?"outer-theme":"ve-chart");this.echarts=this.echartsLib.init(this.$refs.canvas,e,this.initOptions),this.data&&this.dataHandler(this.data),this.events&&this.bindEvents()}},bindEvents:function(){var e=this;Object.keys(this.events).forEach(function(t){e.echarts.on(t,e.events[t])})},addWatchToProps:function(){var e=this,t=this._watchers.map(function(e){return e.expression});Object.keys(this.$props).forEach(function(i){if(!~t.indexOf(i)){var a={};"[object Object]"===getType(i)&&(a.deep=!0),e.$watch(i,function(){e.dataHandler(e.data)},a)}})},registerTheme:function(){echarts.registerTheme("outer-theme",this.theme)}},created:function(){this.echarts=null,this._once={},this.addWatchToProps(),this.theme&&this.registerTheme()},mounted:function(){this.init(),window.addEventListener("resize",this.echarts.resize)},beforeDestroy:function(){window.removeEventListener("resize",this.echarts.resize),this.echarts.dispose()}},VeBar={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-bar",style:e.canvasStyle})},staticRenderFns:[],name:"VeBar",mixins:[Core],created:function(){this.chartHandler=bar,this.echartsLib=echarts}},VeHistogram={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-histogram",style:e.canvasStyle})},staticRenderFns:[],name:"VeHistogram",mixins:[Core],created:function(){this.chartHandler=histogram,this.echartsLib=echarts}},line=function(e,t,i,a){var n=i.axisSite,r=void 0===n?{right:[]}:n,s=i.yAxisType,o=void 0===s?["normal","normal"]:s,l=i.yAxisName,c=void 0===l?[]:l,d=i.dimension,u=void 0===d?[e[0]]:d,m=i.xAxisName,h=void 0===m?[]:m,f=i.axisVisible,p=void 0===f||f,g=i.area,v=i.stack,b=i.scale,y=void 0===b?[!1,!1]:b,x=i.min,S=void 0===x?[null,null]:x,V=i.max,w=void 0===V?[null,null]:V,O=i.nullAddZero,A=void 0!==O&&O,L=i.digit,N=void 0===L?2:L,T=i.legendName,j=i.labelMap,R=i.label,E=i.itemStyle,k=i.lineStyle,M=i.areaStyle,F=a.tooltipVisible,P=a.legendVisible,C=e.slice();i.metrics?C=i.metrics:C.splice(e.indexOf(u[0]),1);var _=P&&getLegend$1({metrics:C,legendName:T,labelMap:j}),H=F&&getLineTooltip({axisSite:r,yAxisType:o,digit:N,labelMap:j}),B=getLineXAxis({dimension:u,rows:t,xAxisName:h,axisVisible:p}),$=getLineYAxis({yAxisName:c,yAxisType:o,axisVisible:p,scale:y,min:S,max:w,digit:N}),W=getLineSeries({rows:t,axisSite:r,metrics:C,area:g,stack:v,nullAddZero:A,labelMap:j,label:R,itemStyle:E,lineStyle:k,areaStyle:M});return!(!B||!W)&&{legend:_,xAxis:B,series:W,yAxis:$,tooltip:H}},VeLine={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-line",style:e.canvasStyle})},staticRenderFns:[],name:"VeLine",mixins:[Core],created:function(){this.chartHandler=line,this.echartsLib=echarts}},pieRadius=100,ringRadius=[80,100],roseRingRadius=[20,100],pieOffsetY=200,pie=function(e,t,i,a,n){var r=clone(t),s=i.dataType,o=void 0===s?"normal":s,l=i.percentShow,c=i.dimension,d=void 0===c?e[0]:c,u=i.metrics,m=void 0===u?e[1]:u,h=i.roseType,f=void 0!==h&&h,p=i.radius,g=void 0===p?n?f?roseRingRadius:ringRadius:pieRadius:p,v=i.offsetY,b=void 0===v?pieOffsetY:v,y=i.legendLimit,x=void 0===y?30:y,S=i.selectedMode,V=void 0!==S&&S,w=i.hoverAnimation,O=void 0===w||w,A=i.digit,L=void 0===A?2:A,N=i.label,T=void 0!==N&&N,j=i.level,R=void 0!==j&&j,E=i.limitShowNum,k=void 0===E?0:E,M=a.tooltipVisible,F=a.legendVisible;k&&r.sort(function(e,t){return t[m]-e[m]});var P={innerRows:r,dimension:d,legendLimit:x,level:R,limitShowNum:k};return{series:getPieSeries({innerRows:r,dataType:o,percentShow:l,dimension:d,metrics:m,radius:g,offsetY:b,selectedMode:V,hoverAnimation:O,digit:L,roseType:f,label:T,level:R,limitShowNum:k,isRing:n}),legend:F&&getPieLegend(P),tooltip:M&&getPieTooltip({dataType:o,innerRows:r,limitShowNum:k,digit:L,metrics:m,dimension:d})}},ring=function(e,t,i,a){return pie(e,t,i,a,!0)},VePie={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-pie",style:e.canvasStyle})},staticRenderFns:[],name:"VePie",mixins:[Core],created:function(){this.chartHandler=pie,this.echartsLib=echarts}},VeRing={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-ring",style:e.canvasStyle})},staticRenderFns:[],name:"VeRing",mixins:[Core],created:function(){this.chartHandler=ring,this.echartsLib=echarts}},waterfall=function(e,t,i,a){var n=i.dataType,r=void 0===n?"normal":n,s=i.dimension,o=void 0===s?e[0]:s,l=i.totalName,c=void 0===l?"总计":l,d=i.totalNum,u=i.remainName,m=void 0===u?"其他":u,h=i.xAxisName,f=void 0===h?o:h,p=i.axisVisible,g=void 0===p||p,v=i.digit,b=void 0===v?2:v,y=a.tooltipVisible,x=e.slice();x.splice(x.indexOf(o),1);var S=x[0],V=S,w=y&&getWaterfallTooltip(r,b),O=parseFloat(t.reduce(function(e,t){return e+Number(t[S])},0).toFixed(b)),A=getWaterfallRemainStatus(O,d);return{tooltip:w,xAxis:getWaterfallXAxis({dimension:o,rows:t,remainStatus:A,totalName:c,remainName:m,xAxisName:f,axisVisible:g}),yAxis:getWaterfallYAxis({dataType:r,yAxisName:V,axisVisible:g,digit:b}),series:getWaterfallSeries({dataType:r,rows:t,dimension:o,metrics:S,totalNum:d,remainStatus:A,dataSum:O,digit:b})}},VeWaterfall={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-waterfall",style:e.canvasStyle})},staticRenderFns:[],name:"VeWaterfall",mixins:[Core],created:function(){this.chartHandler=waterfall,this.echartsLib=echarts}},funnel=function(e,t,i,a){var n=e.slice(),r=t.slice(),s=i.dataType,o=void 0===s?"normal":s,l=i.dimension,c=void 0===l?n[0]:l,d=i.sequence,u=void 0===d?r.map(function(e){return e[c]}):d,m=i.digit,h=void 0===m?2:m,f=i.ascending,p=a.tooltipVisible,g=a.legendVisible,v=void 0;if(i.metrics)v=i.metrics;else{var b=n.slice();b.splice(n.indexOf(c),1),v=b[0]}return{tooltip:p&&getFunnelTooltip(o,h),legend:g&&{data:u},series:getFunnelSeries({dimension:c,metrics:v,rows:r,sequence:u,ascending:f})}},VeFunnel={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-funnel",style:e.canvasStyle})},staticRenderFns:[],name:"VeFunnel",mixins:[Core],created:function(){this.chartHandler=funnel,this.echartsLib=echarts}},radar=function(e,t,i,a){var n=i.dataType,r=void 0===n?{}:n,s=i.dimension,o=void 0===s?e[0]:s,l=i.digit,c=void 0===l?2:l,d=a.tooltipVisible,u=a.legendVisible,m=e.slice();i.metrics?m=i.metrics:m.splice(e.indexOf(o),1);var h=u&&getRadarLegend(t,o),f=getRadarSetting(t,m);return{legend:h,tooltip:d&&getRadarTooltip(r,f,c),radar:f,series:getRadarSeries({rows:t,dimension:o,metrics:m,radar:f})}},VeRadar={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-radar",style:e.canvasStyle})},staticRenderFns:[],name:"VeRadar",mixins:[Core],created:function(){this.chartHandler=radar,this.echartsLib=echarts}},VeChart={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-chart",style:e.canvasStyle})},staticRenderFns:[],name:"VeChart",mixins:[Core],created:function(){this.chartLib={bar:bar,histogram:histogram,line:line,pie:pie,ring:ring,funnel:funnel,radar:radar,waterfall:waterfall},this.chartHandler=this.chartLib[this.settings.type],this.echartsLib=echarts}},map=function(e,t,i,a){var n=i.position,r=void 0===n?"china":n,s=i.selectData,o=void 0!==s&&s,l=i.selectedMode,c=i.label,d=void 0===c||c,u=i.dataType,m=void 0===u?{}:u,h=i.digit,f=void 0===h?2:h,p=i.dimension,g=void 0===p?e[0]:p,v=i.roam,b=i.center,y=i.aspectScale,x=i.boundingCoords,S=i.zoom,V=i.scaleLimit,w=i.mapGrid,O=i.itemStyle,A=e.slice();i.metrics?A=i.metrics:A.splice(e.indexOf(g),1);var L=a.tooltipVisible,N=a.legendVisible,T=a.color,j={};t.forEach(function(e){j[e[g]]=e});var R=L&&getTooltip(m,f,j,A,T),E=N&&{data:A},k=getSeries({position:r,selectData:o,label:d,itemStyle:O,dimension:g,metrics:A,rows:t,selectedMode:l,roam:v,center:b,aspectScale:y,boundingCoords:x,zoom:S,scaleLimit:V,mapGrid:w});return getMapJSON(r).then(function(e){return echarts.registerMap(r,e),{series:k,tooltip:R,legend:E}})},VeMap={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-map",style:e.canvasStyle})},staticRenderFns:[],name:"VeMap",mixins:[Core],created:function(){this.chartHandler=map,this.echartsLib=echarts}},bmap=function(e,t,i){var a=i.key,n=i.bmap;return a||console.warn("settings.key must be a string."),getBmap(a).then(function(e){return{bmap:n}})},VeBmap={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"canvas",staticClass:"ve-bmap",style:e.canvasStyle})},staticRenderFns:[],name:"VeBmap",mixins:[Core],created:function(){this.chartHandler=bmap,this.echartsLib=echarts}},components=[VeBar,VeHistogram,VeLine,VePie,VeRing,VeWaterfall,VeFunnel,VeRadar,VeChart,VeMap,VeBmap];"undefined"!=typeof window&&window.Vue&&install(window.Vue);var index={VeBar:VeBar,VeHistogram:VeHistogram,VeRing:VeRing,VeLine:VeLine,VePie:VePie,VeWaterfall:VeWaterfall,VeFunnel:VeFunnel,VeRadar:VeRadar,VeChart:VeChart,VeMap:VeMap,VeBmap:VeBmap,install:install};module.exports=index;
