<!DOCTYPE html>
<html class="xa-page" lang="zh-CN">
<head>
  <base href="http://127.0.0.1:3000/">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <meta name="force-rendering" content="webkit" />
  <meta name="google" value="notranslate" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="robots" content="noindex,nofollow" />
  <meta
    name="viewport"
    content="width=device-width,initial-scale=1,shrink-to-fit=no"
  />
  <title>{{.Title}}</title>
  <meta name="keywords" content="" />
  <meta name="description" content="" />
</head>
<body>
<h2>列表展示</h2>
<table class="table">
<thead>
<tr>
  <th>ID</th>
  <th>中文名</th>
  <th>操作</th>
</tr>
</thead>
<tbody>
{{range $i, $data := .Datalist}}
<tr>
  <th scope="row">{{.Id}}</th>
  <td>{{$data.Name}}</td>
  <td>
    <a href="/user/item?id={{.Id}}">修改</a>
    <a href="/user/delete?id={{.Id}}">删除</a>
  </td>
</tr>
{{end}}
</tbody>
</table>


<!-- </br>
</br>
<h2>表单提交</h2>
<form class="form-horizontal" action="/user/test" method="post">
  <input type="text" name="RoleId" value="2"></br>
  <input type="text" name="Name" value="张小帅"></br>
  <input type="text" name="Password" value="admin123"></br>
  <input type="text" name="Mobile" value="13999999999"></br>
  <input type="text" name="Email" value="1@qq.com"></br>
  <input type="text" name="IsSuper" value="1"></br>
  <input type="text" name="Status" value="1"></br>
  <input type="text" name="CreateTime" value="2019-06-06"></br>
  
  <button type="submit" class="btn btn-default">保存</button></br></br></br>
</form> -->


</br></br>
<button id="btn">添加</button>
<script src="assets/vendors/jquery/3.3.1/dist/jquery.min.js"></script>
<script>
$(function(){

	$("#btn").on("click", function(){

		let user = {
			RoleId: 2,
			Name: '张小帅333',
			Password: 'admin22',
			Email: '3@sohu.com',
			Mobile: '13888888888',
			IsSuper: 1,
			Status: 1,
			CreateTime: '2019-06-07 08:00:00'
		}

		$.ajax({
      type: "post",
      url: "http://127.0.0.1:3000/user/save",
      async:  true,
      data: JSON.stringify(user),
      cache: false,
      dataType: "json",
      success: function(data) {   	
        console.log(data)
      },
      error: function(e) {
        console.log(e)
      }
	  });
	});
})
</script>
</body>
</html>
